---
layout: post
title: http 개관
excerpt: "전 세계의 웹브라우저, 서버, 웹 애플리케이션은 HTTP를 통해 서로 대화한다. 수 많은 웹 애플리케이션이 HTTP를 이요해 통신하고 HTTP가 어떻게 그 일을 하는지 알아보자."
categories: [http]
comments: true
---

- 얼마나 많은 클라이언트와 서버가 통신하는지
- 리소스가 어디서 오는지
- 웹 트랜젝션의 동작에 대해
- HTTP통신을 위해 사용하는 메세지 형식
- HTTP의 TCP 네트워크 전송
- 여러 종류의 HTTP 프로토콜
- 인터넷 곳곳에 설치된 다양한 HTTP 구성

## HTTP는
- 전 세계의 웹서버로부터 엄청난양의 정보를 정확, 심플, 빠르게 유저들의 웹브라우저로 옮겨준다.
- <b>신뢰성</b>있는 데이터 전송 프로토콜을 사용하므로 전송 중 손상되거나 뒤섞이지 않게 안정적으로 전송한다.
- 개발자는 인터넷의 결함, 약점에 대해 걱정없이 기능을 구현하는데 집중할 수 있다.

## 웹 클라이언트 & 서버
- 웹 컨텐츠는 웹서버에 존재하며, HTTP프로토콜로 의사소통하기 때문에 보통 HTTP 서버라고 불린다.
- 웹서버는 데이터를 저장하고 HTTP클라이언트가 요청한 데이터를 제공한다.
- 월드와이드웹의 기본 요소는 클라이언트는 서버에게 HTTP요청을 하며 서버는 요청한 데이터를 HTTP응답으로 돌려준다.
- 예를들어 "http://www.naver.com/search" 페이지를 열고 싶을 때 웹 브라우저는 HTTP요청을 www.naver.com 서버로 전달한다. 서버는 전달받은 객체 "/search"를 찾고 성공하면 그것의 정보를 HTTP응답에 실어 클라이언트에게 보낸다.

## 리소스
- 웹 서버는 웹 리소스를 관리하고 제공한다.
- 가장 단순한 웹 리소스는 웹 서버 파일 시스템의 정적 파일(HTML, CSS, JPEG등)이다.
- 어떤 종류의 컨텐츠 소스도 리소스가 될 수 있다.

## 미디어 타입
- 인터넷은 수많은 데이터 타입을 다루기 때문에 HTTP는 웹에서 전송되는 객체 각각에 MIME타입(Multipurpose Internet Mail Extensions)이라는 데이터 포맷라벨을 붙인다.
- MIME은 원래 각각 다른 전자메일 시스템 사이의 메세지가 오고 갈때 겪는 문제점을 해결하기 위해 설계 되었다.
- MIME은 이메일에서 동작을 잘 해서 HTTP에서도 멀티미디어 컨텐츠를 기술하고 라벨을 붙이기 위해 채택되었다.
- 웹 서버는 모든 HTTP객체 데이터에 MIME타입을 붙인다.
- MIME타입은 "/"으로 구분된 주 타입과 부 타입으로 이루어진 문자열 라벨(키,밸류)이다. 
- 예) HTML로 작성된 문서는 text/html 라벨 / JPEG 이미지는 image/jpeg가 붙는다.

## URI & URL & URN
- 서버 리소스 이름은 통합 자원 식별자, 또는 URI로 불린다. URI는 인터넷의 우편물 주소 같은 것으로 정보 리소스를 고유하게 식별하고 위치즐 지정할 수 있다.
- URI는 두 가지가 있다. URL과 URN이 그것이다.
- 예) http://www.naver.com/search/test.png (http:// HTTP 프로토콜을 사용하라) (www.naver.com 으로 이동하라) (/search/test.png 리소스를 가져와라) - URL은 프로토콜, 서버, 리소스를 명시한다.
- URL은 리소스 식별자의 가장 흔한 형태이며 특정 서버의 한 리소스에 대한 구체적 위치를 서술한다.
- 오늘날의 대부분의 URI는 URL이다.
- URN은 컨테느를 이루는 한 리소스에 대해 그 리소스의 위치에 영향받지 않는 유일무이한 이름 역할을 한다. 이 위치 독립적인 URN은 리소스를 여기저기로 옮기더라도 문제없이 동작하낟.
- URN은 여전히 실험중인 상태이며 널리 채택되지 않은 상태이다. 

## 트랜잭션
- HTTP트랜잭션은 요청 명령과 응답 결과로 구성되어 있으며 상호작용은 HTTP메세지라고 불리는 정형화된 데이터를 이용해 이루어진다.

#### 메서드
- HTTP는 HTTP메서드라고 불리는 여러 종류의 요청 명령을 지원하며, 모든 HTTP요청 메세지는 한 개의 메서드를 갖는다.
- 흔히 쓰이는 메서드 (GET, PUT, DELETE, POST, HEAD)

#### 상태코드
- 모든 HTTP응답 메세지는 상태 코드와 함께 반한된다. 

#### 웹페이지는 여러 객체로 이루어질 수 있다.
- 애플리케이션에서 보통 한 작업을 수행하려 할때 여러 HTTP트랜잭션을 실행한다.
- 어떠한 웹페이지를 가져올 때 많은 HTTP트랜잭션을 수행하는데 HTMLㅂ을 한번의 트랜잭션으로 가져온뒤 추가적으로 필요한 자원들을 가져오기위해 HTTP트랜잭션을 수행한다. 
- 웹페이지는 보통 하나의 리소스가 아닌 리소스의 모음이다.

## 메세지
- HTTP 메세지는 세 부분으로 이루어진다.
- 시작줄 : 메세지의 첫 줄을 시작줄이라 말하며 요청이라면 무엇을 해야하는지 응답이라면 무슨일이 일어났는지 나타낸다.
- 헤더 : 시작줄 다음에는 0개 이상의 헤더 필드가 이어진다. 헤더는 빈 줄로 끝난다.
- 본문(바디) : 어떤 종류의 데이터든 들어갈 수 있는 메세지 본문이 필요에 따라 올수 있다. 요청의 본문은 웹 서버로 데이터를 실어 보내며, 응답의 본문은 클라이언트로 데이터를 반환한다. 문자열이며 구조적인 시작줄, 헤더와 다르게 임의의 이진 데이터를 포함할 수 있다.

## TCP커넥션

#### TCP/IP
- TCP는 다음을 제공한다. 1. 오류 없는 데이터 전송 2. 순서에 맞는 전달 3. 조각나지 않는 데이터 스트림
-  

